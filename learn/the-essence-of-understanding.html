<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>你真的懂了嗎？</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Libre+Bodoni:ital,wght@0,400;0,500;0,600;0,700;1,400;1,500&family=Noto+Sans+TC:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --color-primary: #7ECFC0;
            --color-accent: #E8756D;
            --color-secondary: #D4A5A5;
            --color-bg: #FEFBF8;
            --color-bg-alt: #F7F3EF;
            --color-text: #2D3436;
            --color-text-muted: #636E72;
            --color-border: #E8E4E1;
            --font-serif: 'Libre Bodoni', 'Noto Serif TC', Georgia, serif;
            --font-sans: 'Noto Sans TC', -apple-system, BlinkMacSystemFont, sans-serif;
            --content-width: 68ch;
            --spacing-unit: 1rem;
        }

        /* Dark mode - manual toggle */
        html.dark {
            --color-bg: #1a1a1a;
            --color-bg-alt: #242424;
            --color-text: #F5F5F5;
            --color-text-muted: #A0A0A0;
            --color-border: #3a3a3a;
            --color-primary: #8FD9CB;
            --color-accent: #F08A82;
            --color-secondary: #E0B8B8;
        }

        /* Dark mode - system preference (when no manual choice) */
        @media (prefers-color-scheme: dark) {
            html:not(.light):not(.dark) {
                --color-bg: #1a1a1a;
                --color-bg-alt: #242424;
                --color-text: #F5F5F5;
                --color-text-muted: #A0A0A0;
                --color-border: #3a3a3a;
                --color-primary: #8FD9CB;
                --color-accent: #F08A82;
                --color-secondary: #E0B8B8;
            }
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            font-size: 18px;
            scroll-behavior: smooth;
        }

        body {
            font-family: var(--font-sans);
            background-color: var(--color-bg);
            color: var(--color-text);
            line-height: 1.8;
            letter-spacing: -0.01em;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            transition: background-color 0.3s ease, color 0.3s ease;
        }

        /* Header */
        .site-header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 100;
            padding: 1rem 2rem;
            background: linear-gradient(to bottom, var(--color-bg) 60%, transparent);
            transition: opacity 0.3s ease;
        }

        .header-inner {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .site-logo {
            font-family: var(--font-serif);
            font-size: 1.1rem;
            font-weight: 500;
            color: var(--color-text-muted);
            text-decoration: none;
            letter-spacing: 0.05em;
        }

        .theme-toggle {
            background: none;
            border: none;
            cursor: pointer;
            padding: 0.5rem;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--color-text-muted);
            transition: color 0.2s, background-color 0.2s;
        }

        .theme-toggle:hover {
            color: var(--color-accent);
            background-color: var(--color-bg-alt);
        }

        .theme-toggle svg {
            width: 22px;
            height: 22px;
        }

        .theme-toggle .icon-sun,
        .theme-toggle .icon-moon {
            display: none;
        }

        /* Show sun icon in dark mode (click to go light) */
        html.dark .theme-toggle .icon-sun,
        html:not(.light):not(.dark) .theme-toggle .icon-sun {
            display: block;
        }

        /* Show moon icon in light mode (click to go dark) */
        html.light .theme-toggle .icon-moon {
            display: block;
        }

        /* Default: follow system, show based on media query */
        @media (prefers-color-scheme: light) {
            html:not(.light):not(.dark) .theme-toggle .icon-moon {
                display: block;
            }
            html:not(.light):not(.dark) .theme-toggle .icon-sun {
                display: none;
            }
        }

        .reading-progress {
            height: 2px;
            background: var(--color-accent);
            width: 0%;
            position: fixed;
            top: 0;
            left: 0;
            z-index: 101;
            transition: width 0.1s ease-out;
        }

        /* Cover */
        .cover {
            width: 100%;
            max-width: 1200px;
            margin: 6rem auto 0;
            padding: 0 2rem;
        }

        .cover img {
            width: 100%;
            height: auto;
            border-radius: 16px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.08);
        }

        /* Article Header */
        .article-header {
            max-width: var(--content-width);
            margin: 4rem auto 3rem;
            padding: 0 2rem;
            text-align: center;
        }

        .article-header h1 {
            font-family: var(--font-serif);
            font-size: clamp(2.5rem, 6vw, 4rem);
            font-weight: 600;
            line-height: 1.2;
            letter-spacing: -0.02em;
            margin-bottom: 1.5rem;
            color: var(--color-text);
        }

        .article-meta {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 1.5rem;
            font-size: 0.9rem;
            color: var(--color-text-muted);
        }

        .article-meta a {
            color: var(--color-primary);
            text-decoration: none;
            transition: color 0.2s;
        }

        .article-meta a:hover {
            color: var(--color-accent);
        }

        .divider {
            width: 60px;
            height: 3px;
            background: linear-gradient(90deg, var(--color-primary), var(--color-accent));
            margin: 3rem auto;
            border-radius: 2px;
        }

        /* Main Content */
        .article-content {
            max-width: var(--content-width);
            margin: 0 auto;
            padding: 0 2rem 6rem;
        }

        .article-content p {
            margin-bottom: 1.6rem;
            text-align: justify;
            hyphens: auto;
        }

        .article-content p:first-of-type::first-letter {
            font-family: var(--font-serif);
            font-size: 3.5rem;
            font-weight: 600;
            float: left;
            line-height: 1;
            margin-right: 0.5rem;
            margin-top: 0.1rem;
            color: var(--color-accent);
        }

        /* Headings */
        .article-content h2 {
            font-family: var(--font-serif);
            font-size: 1.8rem;
            font-weight: 600;
            margin: 4rem 0 1.5rem;
            padding-top: 2rem;
            border-top: 1px solid var(--color-border);
            color: var(--color-text);
            letter-spacing: -0.01em;
        }

        .article-content h2::before {
            content: '';
            display: inline-block;
            width: 8px;
            height: 8px;
            background: var(--color-accent);
            border-radius: 50%;
            margin-right: 1rem;
            vertical-align: middle;
        }

        /* Blockquotes */
        .article-content blockquote {
            margin: 2.5rem 0;
            padding: 2rem 2.5rem;
            background: var(--color-bg-alt);
            border-left: 4px solid var(--color-primary);
            border-radius: 0 12px 12px 0;
            font-style: italic;
            position: relative;
        }

        .article-content blockquote::before {
            content: '"';
            font-family: var(--font-serif);
            font-size: 4rem;
            color: var(--color-primary);
            opacity: 0.3;
            position: absolute;
            top: 0.5rem;
            left: 1rem;
            line-height: 1;
        }

        .article-content blockquote p {
            margin-bottom: 0;
            font-size: 1.1rem;
            text-align: left;
        }

        .article-content blockquote p:first-of-type::first-letter {
            font-size: inherit;
            float: none;
            margin: 0;
            color: inherit;
        }

        /* Strong emphasis */
        .article-content strong {
            color: var(--color-accent);
            font-weight: 600;
        }

        /* Images */
        .article-content figure {
            margin: 3rem -2rem;
            padding: 0;
        }

        @media (min-width: 900px) {
            .article-content figure {
                margin: 3rem -4rem;
            }
        }

        .article-content figure img {
            width: 100%;
            height: auto;
            border-radius: 12px;
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.06);
        }

        .article-content figure figcaption {
            text-align: center;
            font-size: 0.85rem;
            color: var(--color-text-muted);
            margin-top: 1rem;
            font-style: italic;
        }

        /* Lists */
        .article-content ul,
        .article-content ol {
            margin: 1.5rem 0 2rem 1.5rem;
        }

        .article-content li {
            margin-bottom: 0.8rem;
            padding-left: 0.5rem;
        }

        .article-content li::marker {
            color: var(--color-primary);
        }

        /* Code/Technical */
        .article-content code {
            font-family: 'SF Mono', 'Fira Code', Consolas, monospace;
            font-size: 0.9em;
            background: var(--color-bg-alt);
            padding: 0.2em 0.5em;
            border-radius: 4px;
            color: var(--color-accent);
        }

        /* Special paragraph styles */
        .lead {
            font-size: 1.25rem;
            line-height: 1.7;
            color: var(--color-text-muted);
            margin-bottom: 2rem;
        }

        /* Key concept highlight */
        .key-concept {
            background: linear-gradient(135deg, rgba(126, 207, 192, 0.1), rgba(232, 117, 109, 0.1));
            padding: 2rem;
            border-radius: 12px;
            margin: 2rem 0;
            border: 1px solid var(--color-border);
        }

        .key-concept p:last-child {
            margin-bottom: 0;
        }

        /* Footer */
        .article-footer {
            max-width: var(--content-width);
            margin: 0 auto;
            padding: 3rem 2rem;
            border-top: 1px solid var(--color-border);
            text-align: center;
        }

        .article-footer p {
            font-size: 0.9rem;
            color: var(--color-text-muted);
        }

        .article-footer a {
            color: var(--color-primary);
            text-decoration: none;
        }

        .article-footer a:hover {
            color: var(--color-accent);
        }

        /* Back to top */
        .back-to-top {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            width: 48px;
            height: 48px;
            background: var(--color-text);
            color: var(--color-bg);
            border: none;
            border-radius: 50%;
            cursor: pointer;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }

        .back-to-top.visible {
            opacity: 1;
            visibility: visible;
        }

        .back-to-top:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.2);
        }

        .back-to-top svg {
            width: 20px;
            height: 20px;
        }

        /* Animations */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .animate-in {
            animation: fadeInUp 0.6s ease-out forwards;
        }

        .delay-1 { animation-delay: 0.1s; }
        .delay-2 { animation-delay: 0.2s; }
        .delay-3 { animation-delay: 0.3s; }

        /* Responsive */
        @media (max-width: 768px) {
            html {
                font-size: 18px;
            }

            .cover {
                margin-top: 4rem;
                padding: 0 1rem;
            }

            .article-header,
            .article-content,
            .article-footer {
                padding-left: 1.25rem;
                padding-right: 1.25rem;
            }

            .article-content figure {
                margin-left: -1.25rem;
                margin-right: -1.25rem;
            }

            .article-content figure img {
                border-radius: 0;
            }

            .article-content blockquote {
                padding: 1.5rem;
                margin: 2rem 0;
            }

            .site-header {
                padding: 0.75rem 1rem;
            }
        }

        /* Print styles */
        @media print {
            .site-header,
            .reading-progress,
            .back-to-top {
                display: none;
            }

            .article-content {
                max-width: 100%;
            }

            .article-content figure {
                margin: 1.5rem 0;
                page-break-inside: avoid;
            }
        }
    </style>
</head>
<body>
    <div class="reading-progress" id="progress"></div>

    <header class="site-header">
        <div class="header-inner">
            <a href="#" class="site-logo">ESSAY</a>
            <button class="theme-toggle" id="themeToggle" aria-label="切換深色/亮色模式">
                <svg class="icon-sun" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <circle cx="12" cy="12" r="5"></circle>
                    <line x1="12" y1="1" x2="12" y2="3"></line>
                    <line x1="12" y1="21" x2="12" y2="23"></line>
                    <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                    <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                    <line x1="1" y1="12" x2="3" y2="12"></line>
                    <line x1="21" y1="12" x2="23" y2="12"></line>
                    <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                    <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                </svg>
                <svg class="icon-moon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                </svg>
            </button>
        </div>
    </header>

    <main>
        <div class="cover animate-in">
            <img src="the-essence-of-understanding-images/cover/cover.png" alt="你真的懂了嗎？">
        </div>

        <header class="article-header animate-in delay-1">
            <h1>你真的懂了嗎？</h1>
            <div class="article-meta">
                <span>原作者：<a href="https://x.com/howie_serious" target="_blank" rel="noopener">howie.serious</a></span>
            </div>
        </header>

        <div class="divider animate-in delay-2"></div>

        <article class="article-content animate-in delay-3">
            <p>家長最愛問孩子一句話：</p>

            <blockquote>
                <p>老師講的，都聽懂了嗎？</p>
            </blockquote>

            <p>孩子永遠只有一個答案：「懂。」</p>

            <p>不論實際如何。</p>

            <p>這個親子對話，年復一年，像儀式。卻揭示一個尷尬的事實——我們對「理解」這件事，好像不太理解。</p>

            <h2>理解的幻覺</h2>

            <p>你以為你懂了。</p>

            <figure>
                <img src="the-essence-of-understanding-images/01-framework-illusion-of-understanding.png" alt="理解的幻覺">
                <figcaption>理解的幻覺：齒輪之間的缺口象徵我們認知的漏洞</figcaption>
            </figure>

            <p>老師在黑板寫下 E=mc²。你點頭，考試也會用這公式。於是你告訴自己：我懂了。</p>

            <p>真的嗎？</p>

            <p>你能向八歲小孩解釋，為什麼質量可以變成能量？光速的平方，到底什麼意思？</p>

            <p>說「我懂重力」的人，其實只是有個模型：鬆手，東西會掉；拋球，會畫弧線。日常夠用，大腦就認定「懂了」。但換到量子尺度、時空彎曲的世界，這模型立刻失靈。</p>

            <div class="key-concept">
                <p>這裡藏著一個陷阱：<strong>讀起來順，不等於真的懂。</strong></p>
            </div>

            <p>心理學家 Kahneman 稱之為「流暢性錯覺」。當資訊讀起來順暢，大腦會誤以為自己理解了。課本寫得清楚，你覺得懂了；老師講得生動，你覺得懂了。但那是作者的理解，不是你的。</p>

            <p>更麻煩的是「知識的詛咒」——你不知道自己不知道什麼。大腦只處理眼前資訊，對盲點毫無察覺。當你覺得「這很簡單」，往往是最危險的時刻。</p>

            <p>多數時候，所謂「理解」不過是認知的舒適感。新資訊和舊知識不衝突，我們就自我安慰：懂了。</p>

            <p>我稱之為「理解的不可能」。</p>

            <p>這不是悲觀。這是清醒。</p>

            <p>理解不是終點，不是靜態。理解是過程，永遠在變，永遠不完美。我們無法真正「懂」任何事，只能不斷修正對世界的預測。</p>

            <h2>大腦是預測機器</h2>

            <p>認知科學告訴我們：大腦不是在「理解」世界，而是在「預測」世界。</p>

            <p>每一刻，感官接收海量訊息。視覺、聽覺、觸覺——這些原始資料本身毫無意義。大腦不是被動接收，而是主動預測即將發生的事，再用實際結果修正誤差。</p>

            <p>這叫「預測性加工」。</p>

            <figure>
                <img src="the-essence-of-understanding-images/02-framework-predictive-processing.png" alt="預測性加工">
                <figcaption>預測性加工：大腦不斷預測、計算誤差、修正模型</figcaption>
            </figure>

            <p>當你「理解」一個概念，其實是大腦建了個模型，能成功預測相關資訊，誤差降到夠低。</p>

            <p>你「懂」重力，不是掌握什麼本質，只是建了個預測模型：鬆手會掉、拋球會落。模型夠用，大腦就說：懂了。</p>

            <p>但這模型完美嗎？</p>

            <p>它解釋不了量子引力，說不清為什麼引力比其他力弱那麼多，甚至預測不準真空中羽毛下落的速度——因為你的模型是在有空氣阻力的世界裡練出來的。</p>

            <p>哲學家 Andy Clark 更進一步指出：大腦不只被動預測，還會「主動推論」——選擇行動來驗證預測。嬰兒把東西丟到地上，不是調皮，是在測試「鬆手會掉」這個假設。</p>

            <p>所謂理解，不只是預測成功，還包括知道怎麼測試預測。</p>

            <p>理解是暫時的認知平衡。新資訊一來，舊模型就碎，又進入新的修正循環。</p>

            <h2>人腦與 AI 的對稱</h2>

            <p>ChatGPT 真的「理解」語言嗎？</p>

            <p>從某個角度看，確實像懂：能回答、能寫文章、能推理。但追問原理，你會發現它沒有「懂」任何東西，只是在機率空間裡找到最佳的參數配置。</p>

            <p>當你向語言模型提問，它做的事是：</p>

            <figure>
                <img src="the-essence-of-understanding-images/03b-flowchart-llm-understanding.png" alt="LLM 如何「理解」">
                <figcaption>語言模型的「理解」：編碼、啟動、輸出</figcaption>
            </figure>

            <ul>
                <li>把問題編碼成高維向量</li>
                <li>啟動最匹配的神經網路路徑</li>
                <li>輸出「看起來合理」的回應</li>
            </ul>

            <p>聽起來很機械。但人類「理解」有本質不同嗎？</p>

            <p>當你回答問題，大腦同樣在：</p>

            <ul>
                <li>把問題轉成神經活動</li>
                <li>啟動相關記憶和概念網路</li>
                <li>選出「合理」的答案</li>
                <li>讓意識相信「我知道」</li>
            </ul>

            <p>人腦和 AI 的差別，不在理解的本質，而在訓練資料的規模、模型的複雜度。</p>

            <figure>
                <img src="the-essence-of-understanding-images/03-comparison-brain-vs-ai.png" alt="人腦與 AI 的對稱">
                <figcaption>人腦與 AI：本質相似，只是複雜度不同</figcaption>
            </figure>

            <div class="key-concept">
                <p>「理解」不是二元狀態——懂或不懂。理解是連續光譜：從完全無法預測，到粗略預測，到精確預測，到能在新情境中泛化。</p>
            </div>

            <p>理解不是擁有正確的心智模型，而是擁有持續更新模型的能力。</p>

            <h2>費曼技巧</h2>

            <p>如果理解永遠不完美，只能不斷逼近，什麼方法最有效？</p>

            <p>答案是費曼技巧。</p>

            <blockquote>
                <p>If you can't explain it simply, you don't understand it well enough.</p>
            </blockquote>

            <p>這句話深刻，不只因為是好建議，而是揭示了理解的本質。</p>

            <p>用工程語言說：</p>

            <ol>
                <li>選定概念 → 定義目標</li>
                <li>用自己的話解釋 → 測試模型輸出</li>
                <li>發現漏洞 → 計算誤差</li>
                <li>重新學習 → 更新參數</li>
            </ol>

            <figure>
                <img src="the-essence-of-understanding-images/04-flowchart-feynman-technique.png" alt="費曼技巧">
                <figcaption>費曼技巧的四步循環，核心是「對自己誠實」</figcaption>
            </figure>

            <p>費曼技巧，本質上是自我監督的認知優化。</p>

            <p>但技巧只是表面。費曼說過一句更重要的話：</p>

            <blockquote>
                <p>The first principle is that you must not fool yourself — and you are the easiest person to fool.</p>
            </blockquote>

            <p>費曼技巧的核心不是「用簡單的話解釋」，而是<strong>對自己誠實</strong>。</p>

            <p>多數人解釋卡住時會跳過、會繞過、會用術語遮掩。「這個嘛，就是那個意思」——聽起來像解釋，其實是逃避。真正的費曼技巧是：卡住就停下來，承認「這裡我不懂」。</p>

            <p>關鍵在第三步：發現漏洞。</p>

            <p>當你試著向別人解釋一個概念，必須把模糊直覺轉成清晰語言。這過程會無情暴露理解的空白：</p>

            <ul>
                <li>以為懂的，說不清楚</li>
                <li>以為重要的，連不起來</li>
                <li>以為簡單的，解釋不通</li>
            </ul>

            <p>每一個卡住的地方，都是預測失敗的訊號。這是黃金訊號——精確指出模型哪裡不夠好。</p>

            <p>傳統學習——讀書、聽課、做筆記——大多是被動輸入。問題是：輸入不會告訴你哪裡錯了。你可能讀了十遍課本，依然沒發現對某個關鍵概念的理解是錯的。因為沒有任何環節強迫你輸出、暴露、測試。</p>

            <p>費曼技巧不同。它強迫你主動輸出，用行動測試預測——正是 Andy Clark 說的「主動推論」。它把理解變成可觀測、可測量、可迭代的過程。</p>

            <h2>教學相長</h2>

            <p>還有更深的原因：解釋是比理解更高階的認知活動。</p>

            <p>當你只是「懂」一個概念，大腦可以用緊湊、模糊、只有自己能解碼的形式存放。但要解釋給別人，你必須：</p>

            <ul>
                <li>把概念解壓成語言</li>
                <li>選擇恰當的抽象層次</li>
                <li>預測聽眾的背景知識</li>
                <li>設計從已知到未知的推理路徑</li>
                <li>找到合適的類比和例子</li>
            </ul>

            <p>這五步，每一步都在測試理解的不同面向。能順利完成，表示你的模型不只能預測概念本身，還能預測如何傳遞概念。這是更強的泛化能力。</p>

            <figure>
                <img src="the-essence-of-understanding-images/05-framework-teaching-is-learning.png" alt="教學相長">
                <figcaption>從「懂」到「解釋」：更高階的認知能力</figcaption>
            </figure>

            <p>教學相長，不是空話。這是認知科學的必然：教，是最好的學。</p>

            <h2>學會學習</h2>

            <p>華人最愛學習。</p>

            <p>但愛學習不等於會學習。天天用功，方向卻沒想清楚。學到最後把孩子學成憂鬱，效果卻不見得好。</p>

            <p>如果你真正理解「理解的不可能」，會徹底改變對學習的認知。父母不會再逼孩子盲目勤奮，不會再問那句廢話，孩子也不用機械回答。</p>

            <p>傳統教育灌輸的學習目標，往往模糊甚至錯誤。既然理解是動態的、永不完美，學習目標就不該是「掌握」知識，而是建立一個夠用、能持續更新的模型：</p>

            <ul>
                <li>不要問「全聽懂了嗎」，要問「能講一講今天學的嗎」</li>
                <li>不要追求唯一正解，要優化模型的泛化能力</li>
                <li>不要怕暴露無知和錯誤——那是進步的起點，是學習唯一的方式</li>
            </ul>

            <p>定期回顧、重構你的理解。學到新東西，不只是「新增」資訊，要去審視：這資訊如何改變我的整體模型？哪些舊理解需要修正？</p>

            <p>這才是真正的知識管理：不是累積資訊，而是維護一個動態演化的認知系統。</p>

            <div class="key-concept">
                <p>理解是永無止境的逼近。唯一能讓你不斷逼近的方法，就是不斷測試、暴露、更新。</p>
                <p>這也是費曼技巧偉大之處。</p>
            </div>
        </article>

        <footer class="article-footer">
            <p>原文來源：<a href="https://x.com/howie_serious/status/1988085876522656107" target="_blank" rel="noopener">howie.serious (@howie_serious)</a></p>
            <p style="margin-top: 0.5rem; font-size: 0.85rem;">本文由 <a href="https://github.com/yelban">吹水</a> 改寫為台灣繁體中文，並補充部分內容</p>
        </footer>
    </main>

    <button class="back-to-top" id="backToTop" aria-label="回到頂部">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <polyline points="18 15 12 9 6 15"></polyline>
        </svg>
    </button>

    <script>
        // Theme toggle
        const themeToggle = document.getElementById('themeToggle');
        const html = document.documentElement;

        // Check saved preference or system preference
        function getPreferredTheme() {
            const saved = localStorage.getItem('theme');
            if (saved) return saved;
            return window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';
        }

        function setTheme(theme) {
            html.classList.remove('light', 'dark');
            if (theme === 'dark') {
                html.classList.add('dark');
            } else if (theme === 'light') {
                html.classList.add('light');
            }
            localStorage.setItem('theme', theme);
        }

        // Initialize theme
        setTheme(getPreferredTheme());

        themeToggle.addEventListener('click', () => {
            const current = html.classList.contains('dark') ? 'dark' :
                           html.classList.contains('light') ? 'light' :
                           (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light');
            const next = current === 'dark' ? 'light' : 'dark';
            setTheme(next);
        });

        // Listen for system theme changes
        window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', (e) => {
            if (!localStorage.getItem('theme')) {
                setTheme(e.matches ? 'dark' : 'light');
            }
        });

        // Reading progress
        const progressBar = document.getElementById('progress');
        const backToTop = document.getElementById('backToTop');

        function updateProgress() {
            const scrollTop = window.scrollY;
            const docHeight = document.documentElement.scrollHeight - window.innerHeight;
            const progress = (scrollTop / docHeight) * 100;
            progressBar.style.width = progress + '%';

            // Show/hide back to top button
            if (scrollTop > 500) {
                backToTop.classList.add('visible');
            } else {
                backToTop.classList.remove('visible');
            }
        }

        window.addEventListener('scroll', updateProgress, { passive: true });

        backToTop.addEventListener('click', () => {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        });

        // Intersection Observer for fade-in animations
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.style.opacity = '1';
                    entry.target.style.transform = 'translateY(0)';
                }
            });
        }, observerOptions);

        // Observe figures for scroll animations
        document.querySelectorAll('.article-content figure').forEach(fig => {
            fig.style.opacity = '0';
            fig.style.transform = 'translateY(30px)';
            fig.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
            observer.observe(fig);
        });
    </script>
</body>
</html>
